# FM-SoundConvertor
[MUCOM88](https://onitama.tv/mucom88/) に付属している、FmToneEditor で作成した音色を活用する為の、Windows用コマンドラインツールです。  

以下の音色定義を相互変換します。  
||入出力拡張子|入力定義|出力定義|
|:-:|:-:|:-:|:-:|
|MUCOM88|.muc|MUCOM形式<br>mmldrv形式|MUCOM形式|
|MUCOM88音色ファイル|.dat|dat形式|dat形式|
|FMP|.mwi|旧式<br>F形式<br>FA形式<br>FC形式|FA形式|
|PMD|.mml|PMD形式|PMD形式|
|VOPM|.fxb|fxb形式|fxb形式|
|FM trial v4.3|.fxb|fxb形式|fxb形式|

実行ファイルのダウンロードは[こちら](https://github.com/DM-88/FM-SoundConvertor/blob/master/FM-SoundConvertor/bin/Release/FM-SoundConvertor.exe)  

<br>

# 使い方
~~~
FM-SoundConvertor.exe 変換オプション 入力ファイル

変換オプション
  -muc     拡張子が .muc ではない入力ファイルの音色定義を、MUCOM形式に変換し .muc ファイルを出力します。
  -dat     拡張子が .dat ではない入力ファイルの音色定義を、dat形式に変換し .dat ファイルを出力します。
  -fmp     拡張子が .mwi ではない入力ファイルの音色定義を、FA形式に変換し .mwi ファイルを出力します。
  -pmd     拡張子が .mml ではない入力ファイルの音色定義を、PMD形式に変換し .mml ファイルを出力します。
  -vopm    拡張子が .fxb ではない入力ファイルの音色定義を、fxb形式に変換し .fxb ファイルを出力します。
  -fmtrial 拡張子が .fxb ではない入力ファイルの音色定義を、fxb形式に変換し .fxb ファイルを出力します。

変換オプションと入力ファイルは、複数個の指定が可能です。  
注意：-vopm と -fmtrial は、同じ拡張子のファイルを出力してしまうので、併用できません。
~~~

<br>

# 共通仕様
以下の条件の音色定義は無効と解釈し、出力しません。  
* 音色番号が 0 ～ 255 の範囲外
  * VOPM の場合は、0 ～ 127 の範囲外
* 全オペレーターの AR が 0 

<br>

# MUCOM88 音色番号解釈の独自仕様
音色番号を無記入にすると、直前の音色番号+1 として解釈します。
~~~
;初回は音色番号0 と解釈する
  @:{
   6,  2
  22, 22,  0, 14,  7, 16,  1,  1,  0
  17, 11,  0, 14,  3, 57,  1, 15,  7
  21, 10,  4, 14,  2, 20,  1,  0,  2
  31,  0,  4, 15,  0,  0,  1,  1,  5,"Bass"}

;指定された音色番号10 と解釈する
  @10:{
   7,  3
  26, 25,  0, 14,  2, 15,  3,  0,  1
  25, 16, 10, 14,  6, 15,  3,  0,  7
  23, 23, 10, 14, 10,  0,  3,  1,  4
  31, 12, 20, 15,  1,  0,  0,  2,  5,"Kick"};o2c

;連続した音色番号11 と解釈する
  @:{
   7,  5
  24, 21,  0, 14,  3,  3,  0, 15,  0
  31, 14, 16, 15,  1,  0,  0,  5,  3
  31, 11, 15, 15,  1,  0,  0,  7,  7
  31, 16, 20, 15,  1,  0,  0,  9,  4,"Snare"};o1g
~~~
独自の音色ライブラリの編集や、楽曲用の音色セットが作りやすくなるかなと。  

<br>

# その他
Windows環境での不要なファイルを嫌い、.NET Framework で作成しましたが、.NET Core への転用は容易かと思います。  

音色定義に特化した簡易パーサーの為、ユースケースによっては正常に変換できない場合があるかもしれません。  

自分用に作ったので、気の利いたものではありませんが、何かのお役に立てば幸いです。  
